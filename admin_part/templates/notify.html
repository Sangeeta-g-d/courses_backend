<!-- Toastify CSS -->
<link rel="stylesheet" type="text/css" 
      href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">

<!-- Toastify JS -->
<script type="text/javascript" 
        src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

<script>
  // âœ… Universal Toastify Function
  function showToast(message, type="info") {
    let color = "linear-gradient(to right, #00b4db, #0083b0)"; // default blue

    if(type === "success") color = "linear-gradient(to right, #00b09b, #96c93d)";
    if(type === "error")   color = "linear-gradient(to right, #ff5f6d, #ffc371)";
    if(type === "warning") color = "linear-gradient(to right, #f7971e, #ffd200)";

    Toastify({
      text: message,
      duration: 3000,
      gravity: "top",
      position: "right",
      backgroundColor: color,
      close: true,
      stopOnFocus: true
    }).showToast();
  }
  document.addEventListener("DOMContentLoaded", function() {
    {% if messages %}
        {% for message in messages %}
            showToast("{{ message|escapejs }}", "{{ message.tags }}");
        {% endfor %}
    {% endif %}
  });
</script>
